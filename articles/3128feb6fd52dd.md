---
title: "Slackのusergroup全員のアイコンを一括ダウンロードするCLIツールを作った"
emoji: "📥"
type: "tech"
topics: ["slack", "cli", "nodejs", "typescript", "npm"]
published: false
---

## Slackのアイコンを一括で取得したい

プレゼン資料を作っていて、チームメンバーの顔写真を並べたいと思ったことはありませんか。
あるいは、作業履歴や担当者を「文字」じゃなく「アイコン」で表現したいと思ったことはありませんか。

Slackにメンバーのプロフィール画像がありますが、一人ずつプロフィールページを開いて保存するのが非常に面倒です。特にチームメンバーが10人、20人といると、手作業での保存が現実的でなくなります。

そこで、コマンド1発でusergroup全員のアイコンを一括ダウンロードできるCLIツールを作りました。

https://github.com/kenchan/slack_usergroup_icons_downloader

## 使い方

### Slack APIトークンの取得

まず、Slack APIトークンを取得します。

1. https://api.slack.com/apps にアクセス
2. 「Create New App」から新しいアプリを作成（または既存のアプリを選択）
3. 「OAuth & Permissions」を開く
4. 「User Token Scopes」に以下のスコープを追加：
   - `usergroups:read` - usergroupの一覧とメンバー取得用
   - `users:read` - ユーザー情報とプロフィール画像の取得用
5. アプリをワークスペースにインストール（または再インストール）
6. 「User OAuth Token」（`xoxp-`で始まるトークン）をコピー

### 実行

インストールは不要です。`npx`を使ってすぐに実行できます。

```bash
SLACK_API_TOKEN='xoxp-...' npx slack-usergroup-icons-downloader engineers
```

これだけで、`slack_icons/`フォルダに全員分のアイコンがダウンロードされます。
ファイル名は`{ユーザー名}.jpg`の形式になります。

### オプション

画像サイズを指定できます。

```bash
# オリジナルサイズでダウンロード
SLACK_API_TOKEN='xoxp-...' npx slack-usergroup-icons-downloader --size original engineers

# 512pxでダウンロード
SLACK_API_TOKEN='xoxp-...' npx slack-usergroup-icons-downloader --size 512 engineers
```

利用可能なサイズは以下の通りです。

- `original`
- `1024`
- `512`
- `192`（デフォルト）
- `72`

出力先を変更できます。

```bash
SLACK_API_TOKEN='xoxp-...' npx slack-usergroup-icons-downloader --output ./icons engineers
```

## なぜこのツールを作ったか

実際に困った経験から生まれました。

プレゼン資料を作る際、チームメンバー一覧のスライドを作りたいことがよくあります。テキストだけの名前リストよりも、顔写真付きの方がはるかにわかりやすく、親しみやすいプレゼンになります。

また、プロジェクトの進捗報告や作業履歴を可視化する際に、「誰がやったか」を文字だけでなくアイコンで表現したいケースもありました。GitHubのContributorsページのように、視覚的に貢献者を表示できると、一目で全体像が把握できます。

しかし、そのたびにSlackから一人ずつプロフィールを開いて画像を保存するのは、非常に時間がかかります。メンバーが変わるたびに同じ作業を繰り返すのも苦痛でした。

「こういうツールがあったらいいな」と思ったので、自分で作ることにしました。

できるだけシンプルに、1つのことをうまくやるツールを目指しました。複雑な機能は省き、「usergroupを指定したら全員のアイコンがダウンロードされる」という、まさに自分が欲しかった機能だけを実装しています。

自分が欲しかったものなので、同じような課題を持つ人の役に立てばと思い、OSSとして公開しました。

## まとめ

Slackのusergroupメンバーのアイコンを一括ダウンロードするCLIツールを紹介しました。

- GitHub: https://github.com/kenchan/slack_usergroup_icons_downloader
- npm: `npx slack-usergroup-icons-downloader`

プレゼン資料作成や、チーム可視化の際にぜひ使ってみてください。
